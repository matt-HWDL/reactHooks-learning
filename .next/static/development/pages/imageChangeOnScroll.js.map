{"version":3,"file":"static/development/pages/imageChangeOnScroll.js","sources":["webpack:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js","webpack:///delegated ./node_modules/react/index.js from dll-reference dll_c2e10d183b950a67d9e7","webpack:///./pages/imageChangeOnScroll.js","webpack:///./src/ImageToggleOnScroll.js","webpack:///external \"dll_c2e10d183b950a67d9e7\""],"sourcesContent":["\n    (window.__NEXT_P=window.__NEXT_P||[]).push([\"/imageChangeOnScroll\", function() {\n      var mod = require(\"/Users/hlswrthm/reactHooks-learning/pages/imageChangeOnScroll.js\")\n      if(module.hot) {\n        module.hot.accept(\"/Users/hlswrthm/reactHooks-learning/pages/imageChangeOnScroll.js\", function() {\n          if(!next.router.components[\"/imageChangeOnScroll\"]) return\n          var updatedPage = require(\"/Users/hlswrthm/reactHooks-learning/pages/imageChangeOnScroll.js\")\n          next.router.update(\"/imageChangeOnScroll\", updatedPage)\n        })\n      }\n      return mod\n    }]);\n  ","module.exports = (__webpack_require__(/*! dll-reference dll_c2e10d183b950a67d9e7 */ \"dll-reference dll_c2e10d183b950a67d9e7\"))(\"./node_modules/react/index.js\");","import React from \"react\";\nimport ImageToggleOnScroll from \"../src/ImageToggleOnScroll\";\n\nconst ImageChangeOnScroll = () => {\n    return (\n        <div>\n            {[1124, 187, 823, 1269, 1530].map(speakerId => {\n                return (\n                    <div key={speakerId}>\n                        <ImageToggleOnScroll\n                            primaryImage={`/static/speakers/bw/Speaker-${speakerId}.jpg`}\n                            secondaryImage={`/static/speakers/Speaker-${speakerId}.jpg`}\n                            alt=\"\"\n                        />\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n\nexport default ImageChangeOnScroll;","import React, {useRef, useEffect, useState} from \"react\";\n\nconst ImageToggleOnScroll = ({ primaryImage, secondaryImage }) => {\n\n    const imageRef = useRef(null);\n    const [isLoading,setIsLoading] = useState(true);\n\n    useEffect(() => {\n        window.addEventListener(\"scroll\", scrollHandler);\n        setInView(isInView());\n        setIsLoading(false);\n        return ( () => {\n            window.removeEventListener(\"scroll\", scrollHandler);\n        });\n    }),[isLoading];\n\n    const [inView,setInView] = useState(false);\n\n    const isInView = () => {\n        if (imageRef.current) {\n            const rect = imageRef.current.getBoundingClientRect();\n            return rect.top >= 0 && rect.bottom <= window.innerHeight;\n        }\n        return false;\n    };\n\n    const scrollHandler = () => {\n        setInView(() => {\n            return isInView();\n        });\n    };\n\n    return isLoading ? null : (\n        <img \n            src={inView ? secondaryImage : primaryImage}\n            alt=\"\" ref={imageRef} width=\"200\" height=\"200\"\n        />\n    );\n};\n\nexport default ImageToggleOnScroll;","module.exports = dll_c2e10d183b950a67d9e7;"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACZA;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACrBA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;AAAA;AACA;AAeA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACxCA;;;;A","sourceRoot":""}